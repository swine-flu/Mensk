# <p align="center">МЕНСК</p>

<p align="center"><img width="840" src="https://github.com/user-attachments/assets/ebad36b2-2df0-4a0f-87a2-0d61562cb720"></p>

___

## О Проекте

Данный проект включает в себя полную декомпиляцию оригинального исполняемого файла игры "Менск", написанного под ОС MS-DOS на языке программирования Pascal. Главная цель проекта - достижение совместимости игры с современными версиями ОС Windows без необходимости использования виртуальной машины или эмулятора, с сохранением игрового процесса максимально близким к оригиналу.

При разработке проекта использовалось следующее программное обеспечение:
- [Ghidra](https://github.com/NationalSecurityAgency/ghidra)
- [IDA Freeware 5.0](https://downloads.scummvm.org/frs/extras/IDA/)
- [DOSBox Debuger](https://www.vogons.org/viewtopic.php?t=7323)
- [VGA Font Editor](https://github.com/a740g/VGA-Font-Editor)


## Об Игре

"Менск" представляет собой классический roguelike, действия которого разворачиваются в городе *Минск*, где игроку отдана роль рокера по имени *Лявон*. Игра была создана на рубеже третьего тысячелетия тремя студентами БГУИР *Gildur&#8209;ом*, *Morfin&#8209;ом* и *Forion&#8209;ом*, которые вдохновлялись таким каноничным представителем жанра как [Angband](https://ru.wikipedia.org/wiki/Angband). Однако по своему духу "Менск" куда ближе к социальной сатире нежели к фэнтези.

>   &emsp;З наблiжэньнем новага тысячагоддзя ў горадзе пачало рабiцца  
>   нешта дзiўнае. На вулiцах зьяўляюцца незразумелыя фенькi й бу-  
>   тэлечкi. Людзi бачаць чарцей сярод белага дня. Аднойчы нехта  
>   нават заўважыў патлатага вожыка, якi выглядаў з каналiзацыйнага  
>   люку...  
>   &emsp;Лявон - звычайны беларускi рокер, якога, як i кожнага нар-  
>   мальнага чалавека, даўно дасталi гопнiкi, скiны, баркашоўцы ды  
>   iншая навалач. Неяк аднойчы, напiўшыся пiва, ён нарэшце вырашыў  
>   пазбавiць сьвет ад iх усiх...

За основу данного проекта взята версия игры от 11 февраля 2000 года.


## Установка и Запуск

1. Распаковать файлы игры [последней версии](/../../releases/latest) из архива  и запустить исполняемый файл.
2. Открыть свойства окна (правая кнопка мыши по строке заголовка) и выбрать желаемый шрифт и его размер[^1].
3. По нажатию клавиши F1 открывается окно помощи содержащее основную информацию по игре. 

[^1]: Достаточно настроить один раз при первом запуске, рекомендуется использовать шрифт *Consolas*.


## Известные Проблемы

1. Ввиду того что оригинальная версия игры использует собственные [шрифты](/Fonts) несовместимые с ОС Windows, некоторые элементы игры будут отображаться некорректно:
- Магические фенечки
- Галлюцинации от алкоголя
- ASCII-графика окна победы
- ASCII-графика окна смерти
- Рамка окна зала славы

2. Игра использует альтернативную кодировку (CP866) поэтому, в зависимости от настроек региональных стандартов операционной системы, не все шрифты консоли будут корректно отображать текст.


## Сборка из Исходного Кода

Требуется компилятор с поддержкой C++11 стандарта и библиотек прикладного программного интерфейса Windows. Все файлы исходного кода содержащие строки следует открывать с использованием альтернативной кодировки (CP866) для правильного отображения текста в редакторе.

При отладке приложения в интегрированной среде разработки MS Visual Studio любые изменения параметров окна консоли распространяются на все проекты. Для восстановления исходных параметров окна консоли необходимо удалить ветку реестра из подраздела *HKEY_CURRENT_USER\Console*, имя которой состоит из пути к исполняемому файлу консоли отладки.


## Товарищу Майору

Это проект по реверс-инжинирингу и функциональной совместимости программного обеспечения. Игра не несёт политической или агитационной пропаганды, так же как и не пропагандирует употребление алкоголя и неизвестных зелий. Сеттинг игры и её цели следует рассматривать сквозь призму сатиры как продукт своего времени.
